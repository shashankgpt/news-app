[{"C:\\projects\\news-app\\src\\index.js":"1","C:\\projects\\news-app\\src\\App.js":"2","C:\\projects\\news-app\\src\\store\\index.js":"3","C:\\projects\\news-app\\src\\components\\Pages\\HomePage\\HomePage.js":"4","C:\\projects\\news-app\\src\\store\\reducers\\root.reducer.js":"5","C:\\projects\\news-app\\src\\store\\actions\\news.action.js":"6","C:\\projects\\news-app\\src\\components\\common\\MainHeading\\MainHeading.js":"7","C:\\projects\\news-app\\src\\components\\common\\PageWrapper\\PageWrapper.js":"8","C:\\projects\\news-app\\src\\components\\common\\Header\\Header.js":"9","C:\\projects\\news-app\\src\\components\\common\\NewsMenu\\NewsMenu.js":"10","C:\\projects\\news-app\\src\\components\\common\\NewsInfo\\NewsInfo.js":"11","C:\\projects\\news-app\\src\\components\\common\\SubHeading\\SubHeading.js":"12","C:\\projects\\news-app\\src\\components\\common\\About\\About.js":"13","C:\\projects\\news-app\\src\\store\\reducers\\user.reducer.js":"14","C:\\projects\\news-app\\src\\store\\reducers\\news.reducer.js":"15","C:\\projects\\news-app\\src\\store\\constant\\news.constant.js":"16","C:\\projects\\news-app\\src\\Services\\http\\news.service.js":"17","C:\\projects\\news-app\\src\\Services\\util\\data.service.js":"18","C:\\projects\\news-app\\src\\constant\\News.js":"19","C:\\projects\\news-app\\src\\store\\constant\\user.constant.js":"20","C:\\projects\\news-app\\src\\components\\Pages\\LogIn\\LoginIn.js":"21","C:\\projects\\news-app\\src\\components\\Pages\\SignUp\\SignUp.js":"22","C:\\projects\\news-app\\src\\store\\actions\\user.action.js":"23","C:\\projects\\news-app\\src\\Services\\http\\user.service.js":"24","C:\\projects\\news-app\\src\\components\\Pages\\Profile\\Profile.js":"25","C:\\projects\\news-app\\src\\config\\axios.config.js":"26","C:\\projects\\news-app\\src\\Services\\util\\news.util.js":"27"},{"size":744,"mtime":1607409099097,"results":"28","hashOfConfig":"29"},{"size":782,"mtime":1607793258977,"results":"30","hashOfConfig":"29"},{"size":260,"mtime":1607408547180,"results":"31","hashOfConfig":"29"},{"size":1965,"mtime":1607849678423,"results":"32","hashOfConfig":"29"},{"size":208,"mtime":1607496668283,"results":"33","hashOfConfig":"29"},{"size":1181,"mtime":1607848787843,"results":"34","hashOfConfig":"29"},{"size":1905,"mtime":1607845396248,"results":"35","hashOfConfig":"29"},{"size":410,"mtime":1607776348165,"results":"36","hashOfConfig":"29"},{"size":2282,"mtime":1607792851304,"results":"37","hashOfConfig":"29"},{"size":893,"mtime":1607847666098,"results":"38","hashOfConfig":"29"},{"size":2669,"mtime":1607848016839,"results":"39","hashOfConfig":"29"},{"size":3325,"mtime":1607847171549,"results":"40","hashOfConfig":"29"},{"size":1550,"mtime":1607847891310,"results":"41","hashOfConfig":"29"},{"size":2108,"mtime":1607795511238,"results":"42","hashOfConfig":"29"},{"size":733,"mtime":1607848832840,"results":"43","hashOfConfig":"29"},{"size":110,"mtime":1607843877482,"results":"44","hashOfConfig":"29"},{"size":1042,"mtime":1607844522071,"results":"45","hashOfConfig":"29"},{"size":17685,"mtime":1607670113295,"results":"46","hashOfConfig":"29"},{"size":463,"mtime":1607491044455,"results":"47","hashOfConfig":"29"},{"size":622,"mtime":1607795409865,"results":"48","hashOfConfig":"29"},{"size":3514,"mtime":1607792821523,"results":"49","hashOfConfig":"29"},{"size":4415,"mtime":1607784182071,"results":"50","hashOfConfig":"29"},{"size":3098,"mtime":1607795385193,"results":"51","hashOfConfig":"29"},{"size":494,"mtime":1607781243520,"results":"52","hashOfConfig":"29"},{"size":5393,"mtime":1607795603547,"results":"53","hashOfConfig":"29"},{"size":262,"mtime":1607793320573,"results":"54","hashOfConfig":"29"},{"size":273,"mtime":1607844884565,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"122j0or",{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"58"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"58"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"58"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"58"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"58"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"58"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"58"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"C:\\projects\\news-app\\src\\index.js",[],["119","120","121","122","123"],"C:\\projects\\news-app\\src\\App.js",[],"C:\\projects\\news-app\\src\\store\\index.js",[],"C:\\projects\\news-app\\src\\components\\Pages\\HomePage\\HomePage.js",["124"],"import React from \"react\";\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport {fetchTopHeadline} from '../../../store/actions/news.action'\r\nimport PageWrapper from \"../../common/PageWrapper/PageWrapper\";\r\nimport MainHeading from \"../../common/MainHeading/MainHeading\";\r\nimport NewsMenu from \"../../common/NewsMenu/NewsMenu\";\r\nimport SubHeading from \"../../common/SubHeading/SubHeading\";\r\nimport NewsInfo from \"../../common/NewsInfo/NewsInfo\";\r\nimport About from '../../common/About/About';\r\n// import { getTopHeadline } from '../../../Services/news.service'\r\n\r\n// import PropTypes from 'prop-types'\r\n\r\nfunction HomePage() {\r\n  const dispatch = useDispatch();\r\n  const stateInfo = useSelector(state => state.news)\r\n  console.log(stateInfo);\r\n  React.useEffect(() => {\r\n    dispatch(fetchTopHeadline());\r\n  }, []);\r\n// TODO page set first then axios request\r\n  const move = (val = 'NEXT') => {\r\n    dispatch(fetchTopHeadline(stateInfo.category, val === 'NEXT' ? stateInfo.page + 1 : stateInfo.page -1));\r\n  }\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <NewsMenu />\r\n      <MainHeading news={stateInfo.topHeading} />\r\n      <SubHeading news={stateInfo.subHeadingNews} category={stateInfo.category==='all' ? 'Top': stateInfo.category} />\r\n      <div className=\"row text-left\">\r\n        <NewsInfo news={stateInfo.otherNews} />\r\n        <About />\r\n      </div>\r\n      <nav className=\"blog-pagination\">\r\n         <button type=\"button\" disabled={stateInfo.page===0} className={`mx-4 btn btn-outline-primary ${stateInfo.page===0 ? 'disabled': ''}`} onClick={() =>move('PREV') }>Older</button>\r\n         <button type=\"button\" disabled={window.Math.ceil(stateInfo.totalCount/10) <= stateInfo.page} className={`mx-4 btn btn-outline-primary ${window.Math.ceil(stateInfo.totalCount/10) <= stateInfo.page ? 'disabled': ''}`} onClick={() =>move('NEXT') }>Newer</button>\r\n        </nav>\r\n    </PageWrapper>\r\n  );\r\n}\r\n\r\nHomePage.propTypes = {};\r\n\r\nexport default HomePage;\r\n","C:\\projects\\news-app\\src\\store\\reducers\\root.reducer.js",[],"C:\\projects\\news-app\\src\\store\\actions\\news.action.js",["125"],"/* eslint-disable import/prefer-default-export */\r\nimport {getTopHeadline} from '../../Services/http/news.service'\r\nimport * as newsActions from '../constant/news.constant';\r\nimport {newsData } from '../../Services/util/news.util'\r\n\r\nconst saveNewSuccess = (topHeading, subHeading, allOthers, category, page, total) => {\r\n return {\r\n     type: newsActions.FETCH_NEWS_SUCCESS,\r\n     payload: {\r\n         topHeading,\r\n         subHeading,\r\n         allOthers,\r\n         category,\r\n         page,\r\n         total\r\n     }\r\n }   \r\n}\r\n\r\nconst saveNewFailure = (err) => {\r\n    return {\r\n        type: newsActions.FETCH_NEWS_SUCCESS,\r\n        payload: err\r\n   }\r\n}\r\n\r\nexport const fetchTopHeadline = (category='all', page =0) => {\r\n    return dispatch => {\r\n        return getTopHeadline(category==='all' ? '': category, page)\r\n        .then((res) => {\r\n            const {  mainHeading,subHeading,otherNews} = newsData(res.data);\r\n            console.log(res.data.totalResults)\r\n            dispatch(saveNewSuccess(mainHeading,subHeading,otherNews,category,page, res.data.totalResults))\r\n        }).catch((err) => {\r\n            dispatch(saveNewFailure(err.message))\r\n        })\r\n    }\r\n}","C:\\projects\\news-app\\src\\components\\common\\MainHeading\\MainHeading.js",[],"C:\\projects\\news-app\\src\\components\\common\\PageWrapper\\PageWrapper.js",[],"C:\\projects\\news-app\\src\\components\\common\\Header\\Header.js",[],"C:\\projects\\news-app\\src\\components\\common\\NewsMenu\\NewsMenu.js",[],"C:\\projects\\news-app\\src\\components\\common\\NewsInfo\\NewsInfo.js",[],"C:\\projects\\news-app\\src\\components\\common\\SubHeading\\SubHeading.js",[],"C:\\projects\\news-app\\src\\components\\common\\About\\About.js",[],"C:\\projects\\news-app\\src\\store\\reducers\\user.reducer.js",[],"C:\\projects\\news-app\\src\\store\\reducers\\news.reducer.js",[],"C:\\projects\\news-app\\src\\store\\constant\\news.constant.js",[],"C:\\projects\\news-app\\src\\Services\\http\\news.service.js",["126"],"import axios from 'axios';\r\n\r\nconst URL = 'http://newsapi.org/v2'\r\n\r\nexport const getNewsHeadline = () => {\r\n  \r\n    const url = new URLSearchParams('');\r\n    url.set(\"country\", \"us\"); \r\n    url.set(\"apiKey\", \"a29b6151b1504b838a24c9c945e5838b\"); \r\n    axios.get(`http://newsapi.org/v2/top-headlines?${url.toString()}`).then((res)=> console.log(res));\r\n}\r\nconst getParams = (category='', page=0, searchKey='', pageSize=10, country ='us') => {\r\n    const urlParam = new URLSearchParams('');\r\n    urlParam.set(\"country\", country); \r\n    urlParam.set(\"pageSize\", pageSize)\r\n    urlParam.set(\"apiKey\", \"1eaf68e67f314749aed0acb293345329\")\r\n    urlParam.set('page',page);\r\n    if(searchKey) urlParam.set('q',searchKey)\r\n    if(category) urlParam.set('category',category) \r\n    return urlParam;\r\n}\r\nexport const getTopHeadline = (category='', page=0, searchKey='', pageSize=10, country ='us') => {\r\n    const urlParam =getParams(category, page, searchKey, pageSize, country);\r\n    return axios.get(`${URL}/top-headlines?${urlParam.toString()}`);\r\n}\r\n","C:\\projects\\news-app\\src\\Services\\util\\data.service.js",[],["127","128","129","130","131"],"C:\\projects\\news-app\\src\\constant\\News.js",[],"C:\\projects\\news-app\\src\\store\\constant\\user.constant.js",[],"C:\\projects\\news-app\\src\\components\\Pages\\LogIn\\LoginIn.js",["132","133"],"import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport {Link} from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport { loginUser, clearMessage } from \"../../../store/actions/user.action\";\r\nimport PageWrapper from \"../../common/PageWrapper/PageWrapper\";\r\nimport \"./login.css\";\r\n\r\nfunction LogIn({history}) {\r\n  const dispatch = useDispatch();\r\n  const stateInfo = useSelector((state) => state.user);\r\n  console.log(stateInfo);\r\n  const { register, handleSubmit, watch, errors } = useForm();\r\n  const password = React.useRef({});\r\n  const onSubmit = (data) => {\r\n    dispatch(loginUser(data.username, data.password));\r\n  };\r\n  password.current = watch(\"password\", \"\");\r\n  console.log(errors);\r\n  React.useEffect(()=>{\r\n    if(!stateInfo.success) return ;\r\n    window.localStorage.setItem('token', stateInfo.token);\r\n    window.localStorage.setItem('username', stateInfo.username);\r\n    setTimeout(()=>{\r\n      dispatch(clearMessage())\r\n      history.push('/')\r\n    },3000)\r\n  },[stateInfo.success])\r\n  return (\r\n    <PageWrapper>\r\n         <div className=\"jumbotron p-3 p-md-5  rounded bg-white\">\r\n         <h1 className=\"display-4 font-italic\">Log In</h1>\r\n         {stateInfo.success && (\r\n          <div className=\"alert alert-success\" role=\"alert\">\r\n            {stateInfo.success}\r\n          </div>\r\n        )}\r\n        {stateInfo.error && (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            {stateInfo.error}\r\n          </div>\r\n        )}\r\n      <form className=\"text-left form-margin\" onSubmit={handleSubmit(onSubmit)}>\r\n         \r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\">\r\n            Username\r\n            <input\r\n              type=\"text\"\r\n              className={`form-control ${ errors.username ? 'is-invalid' :''}`}\r\n              name=\"username\"\r\n              id=\"username\"\r\n              aria-describedby=\"emailHelp\"\r\n              placeholder=\"Enter username\"\r\n              ref={register({ required: true })}\r\n            />\r\n          </label>\r\n          {errors.username && (\r\n            <small id=\"usernameHelp\" className=\"form-text text-danger\">\r\n              You must specify a username\r\n            </small>\r\n          )}\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">\r\n            Password\r\n            <input\r\n              type=\"password\"\r\n              className={`form-control ${ errors.password ? 'is-invalid' :''}`}\r\n              name=\"password\"\r\n              id=\"password\"\r\n              placeholder=\"Password\"\r\n              ref={register({\r\n                required: \"You must specify a password\",\r\n                minLength: {\r\n                  value: 8,\r\n                  message: \"Password must have at least 8 characters\"\r\n                }\r\n              })}\r\n            />\r\n          </label>\r\n          {errors.password && (\r\n            <small id=\"usernameHelp\" className=\"form-text text-danger\">\r\n             {errors.password.message}\r\n            </small>\r\n          )}\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Submit\r\n        </button>\r\n        <Link className=\"mx-4\" to='/signup'>\r\n              Sign up\r\n            </Link>\r\n      </form>\r\n      </div>\r\n    </PageWrapper>\r\n  );\r\n}\r\n\r\nLogIn.propTypes = {\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired\r\n  }).isRequired\r\n};\r\nexport default LogIn;\r\n","C:\\projects\\news-app\\src\\components\\Pages\\SignUp\\SignUp.js",["134","135"],"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport PropTypes from 'prop-types'\r\nimport { signUpUser, clearMessage } from \"../../../store/actions/user.action\";\r\nimport PageWrapper from \"../../common/PageWrapper/PageWrapper\";\r\n\r\nimport \"./sign-up.css\";\r\n\r\nfunction SignUp({history}) {\r\n  const dispatch = useDispatch();\r\n  const stateInfo = useSelector((state) => state.user);\r\n  console.log(stateInfo);\r\n  const { register, handleSubmit, watch, errors } = useForm();\r\n  const password = React.useRef({});\r\n  const onSubmit = (data) => {\r\n    dispatch(signUpUser(data.username, data.password));\r\n  };\r\n  password.current = watch(\"password\", \"\");\r\n  console.log(errors);\r\n\r\n  React.useEffect(()=>{\r\n    if(!stateInfo.success) return ;\r\n    setTimeout(()=>{\r\n      dispatch(clearMessage())\r\n      history.push('/login')\r\n    },3000)\r\n  },[stateInfo.success])\r\n  return (\r\n    <PageWrapper>\r\n      <div className=\"jumbotron p-3 p-md-5  rounded bg-white\">\r\n        <h1 className=\"display-4 font-italic\">Sign Up</h1>\r\n        {stateInfo.success && (\r\n          <div className=\"alert alert-success\" role=\"alert\">\r\n            {stateInfo.success}\r\n          </div>\r\n        )}\r\n        {stateInfo.error && (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            {stateInfo.error}\r\n          </div>\r\n        )}\r\n        <form\r\n          className=\"text-left form-margin\"\r\n          onSubmit={handleSubmit(onSubmit)}\r\n        >\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">\r\n              Username\r\n              <input\r\n                type=\"text\"\r\n                className={`form-control ${\r\n                  errors.username ? \"is-invalid\" : \"\"\r\n                }`}\r\n                name=\"username\"\r\n                id=\"username\"\r\n                aria-describedby=\"emailHelp\"\r\n                placeholder=\"Enter email\"\r\n                ref={register({ required: true })}\r\n              />\r\n            </label>\r\n            {errors.username && (\r\n              <small id=\"usernameHelp\" className=\"form-text text-danger\">\r\n                You must specify a username\r\n              </small>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">\r\n              Password\r\n              <input\r\n                type=\"password\"\r\n                className={`form-control ${\r\n                  errors.password ? \"is-invalid\" : \"\"\r\n                }`}\r\n                name=\"password\"\r\n                id=\"password\"\r\n                placeholder=\"Password\"\r\n                ref={register({\r\n                  required: \"You must specify a password\",\r\n                  minLength: {\r\n                    value: 8,\r\n                    message: \"Password must have at least 8 characters\",\r\n                  },\r\n                })}\r\n              />\r\n            </label>\r\n            {errors.password && (\r\n              <small id=\"usernameHelp\" className=\"form-text text-danger\">\r\n                {errors.password.message}\r\n              </small>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"cpassword\">\r\n              Confirm Password\r\n              <input\r\n                type=\"password\"\r\n                className={`form-control ${\r\n                  errors.cpassword ? \"is-invalid\" : \"\"\r\n                }`}\r\n                name=\"cpassword\"\r\n                id=\"cpassword\"\r\n                placeholder=\"Password\"\r\n                ref={register({\r\n                  validate: (value) =>\r\n                    value === password.current || \"The passwords do not match\",\r\n                })}\r\n              />\r\n            </label>\r\n            {errors.cpassword && (\r\n              <small id=\"usernameHelp\" className=\"form-text text-danger\">\r\n                {errors.cpassword.message}\r\n              </small>\r\n            )}\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Submit\r\n          </button>\r\n          <Link className=\"mx-4\" to=\"/login\">\r\n            Login\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </PageWrapper>\r\n  );\r\n}\r\n\r\nSignUp.propTypes = {\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired\r\n  }).isRequired\r\n};\r\nexport default SignUp;\r\n","C:\\projects\\news-app\\src\\store\\actions\\user.action.js",["136","137","138"],"import { signUp, logIn, getProfile, updateProfile } from \"../../Services/http/user.service\";\r\nimport * as userActions from \"../constant/user.constant\";\r\n\r\nconst loadingStart = () => {\r\n  return {\r\n    type: userActions.LOADING_TRUE,\r\n  };\r\n};\r\n\r\nconst loadingEnd = () => {\r\n  return {\r\n    type: userActions.LOADING_FALSE,\r\n  };\r\n};\r\n\r\nconst userRegisterSuccess = (data) => {\r\n  return {\r\n    type: userActions.USER_REGISTER_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nconst userRegisterFailure = (data) => {\r\n  return {\r\n    type: userActions.USER_REGISTER_FAILURE,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nconst loginUserSuccess = (data) => {\r\n  return {\r\n    type: userActions.USER_LOGIN_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nconst loginUserFailure = (data) => {\r\n  return {\r\n    type: userActions.USER_LOGIN_FAILURE,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nconst fetchUserSuccess = (data) => {\r\n  return {\r\n    type: userActions.FETCH_USER_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nconst updateUserSuccess = (data) => {\r\n  return {\r\n    type: userActions.UPDATE_USER_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nconst fetchUserFailure = (data) => {\r\n  return {\r\n    type: userActions.FETCH_USER_FAILURE,\r\n    payload: data,\r\n  };\r\n};\r\nexport const clearMessage = (data) => {\r\n  return {\r\n    type: userActions.CLEAR_MESSAGE,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return {\r\n    type: userActions.LOGOUT\r\n  };\r\n};\r\nexport const saveUserDetails = (data) => {\r\n  return {\r\n    type: userActions.SAVE_USER,\r\n    payload: data\r\n  }\r\n}\r\n\r\nexport const signUpUser = (username, password) => {\r\n  return (dispatch) => {\r\n    dispatch(loadingStart());\r\n    return signUp(username, password)\r\n      .then((res) => {\r\n        dispatch(userRegisterSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(userRegisterFailure(err));\r\n      })\r\n      .finally(() => dispatch(loadingEnd()));\r\n  };\r\n};\r\n\r\nexport const loginUser = (username, password) => {\r\n  return (dispatch) => {\r\n    dispatch(loadingStart());\r\n    return logIn(username, password)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        dispatch(loginUserSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(loginUserFailure(err));\r\n      })\r\n      .finally(() => dispatch(loadingEnd()));\r\n  };\r\n};\r\n\r\n\r\nexport const getUserInfo = (username, password) => {\r\n  return (dispatch) => {\r\n    dispatch(loadingStart());\r\n    return getProfile(username, password)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        dispatch(fetchUserSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(fetchUserFailure(err));\r\n      })\r\n      .finally(() => dispatch(loadingEnd()));\r\n  };\r\n};\r\n\r\nexport const saveUserProfile =(data) => {\r\n  return (dispatch) => {\r\n    dispatch(loadingStart());\r\n    return updateProfile(data)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        dispatch(updateUserSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(fetchUserFailure(err));\r\n      })\r\n      .finally(() => dispatch(loadingEnd()));\r\n  };\r\n}","C:\\projects\\news-app\\src\\Services\\http\\user.service.js",[],"C:\\projects\\news-app\\src\\components\\Pages\\Profile\\Profile.js",["139","140"],"import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n// import PropTypes from 'prop-types'\r\nimport { saveUserProfile, getUserInfo, logout } from \"../../../store/actions/user.action\";\r\nimport PageWrapper from \"../../common/PageWrapper/PageWrapper\";\r\n\r\nfunction Profile() {\r\n    const dispatch = useDispatch();\r\n    const stateInfo = useSelector((state) => state.user);\r\n    console.log(stateInfo);\r\n    const { register, handleSubmit, setValue,watch, errors } = useForm();\r\n    const password = React.useRef({});\r\n    const onSubmit = (data) => {\r\n      const { firstName, lastName, email,gender  } = data;\r\n      dispatch(saveUserProfile({ firstName, lastName, email, gender}));\r\n    };\r\n    password.current = watch(\"password\", \"\");\r\n    console.log(errors);\r\n\r\n    React.useEffect(()=>{\r\n        dispatch(getUserInfo());\r\n      },[])\r\n\r\n      React.useEffect(()=>{\r\n       const keys = Object.keys(stateInfo.profile)\r\n        for(let i=0;i<keys.length;i+=1) {\r\n          setValue(keys[i], stateInfo.profile[keys[i]]);\r\n        }\r\n      },[stateInfo.profile])\r\n\r\n      const logoutUser = () => {\r\n        window.localStorage.removeItem('token');\r\n        window.localStorage.removeItem('username');\r\n        dispatch(logout());\r\n      }\r\n    return (\r\n      <PageWrapper>\r\n        <div className=\"jumbotron p-3 p-md-5  rounded bg-white\">\r\n          <h1 className=\"display-4 font-italic\">{stateInfo.username} Profile</h1>\r\n          {stateInfo.success && (\r\n            <div className=\"alert alert-success\" role=\"alert\">\r\n              {stateInfo.success}\r\n            </div>\r\n          )}\r\n          {stateInfo.error && (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n              {stateInfo.error}\r\n            </div>\r\n          )}\r\n          <form\r\n            className=\"text-left form-margin\"\r\n            onSubmit={handleSubmit(onSubmit)}\r\n          >\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"firstName\">\r\n                First Name\r\n                <input\r\n                  type=\"text\"\r\n                  className={`form-control ${\r\n                    errors.firstName ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                  name=\"firstName\"\r\n                  id=\"firstName\"\r\n                  aria-describedby=\"usernameHelp\"\r\n                  placeholder=\"Enter email\"\r\n                  ref={register({ required: true })}\r\n                />\r\n              </label>\r\n              {errors.firstName && (\r\n                <small id=\"usernameHelp\" className=\"form-text text-danger\">\r\n                  You must specify a firstName\r\n                </small>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"lastName\">\r\n                First Name\r\n                <input\r\n                  type=\"text\"\r\n                  className={`form-control ${\r\n                    errors.username ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                  name=\"lastName\"\r\n                  id=\"lastName\"\r\n                  aria-describedby=\"emailHelp\"\r\n                  placeholder=\"Enter email\"\r\n                  ref={register({ required: true })}\r\n                />\r\n              </label>\r\n              {errors.username && (\r\n                <small id=\"usernameHelp\" className=\"form-text text-danger\">\r\n                  You must specify a username\r\n                </small>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email\">\r\n                First Name\r\n                <input\r\n                  type=\"text\"\r\n                  className={`form-control ${\r\n                    errors.username ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  aria-describedby=\"emailHelp\"\r\n                  placeholder=\"Enter email\"\r\n                  ref={register({ required: true })}\r\n                />\r\n              </label>\r\n              {errors.username && (\r\n                <small id=\"usernameHelp\" className=\"form-text text-danger\">\r\n                  You must specify a username\r\n                </small>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"gender\">\r\n              Gender\r\n                <input\r\n                  type=\"text\"\r\n                  className={`form-control ${\r\n                    errors.username ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                  name=\"gender\"\r\n                  id=\"gender\"\r\n                  aria-describedby=\"emailHelp\"\r\n                  placeholder=\"Enter email\"\r\n                  ref={register({ required: true })}\r\n                />\r\n              </label>\r\n              {errors.username && (\r\n                <small id=\"usernameHelp\" className=\"form-text text-danger\">\r\n                  You must specify a username\r\n                </small>\r\n              )}\r\n            </div>\r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              Submit\r\n            </button>\r\n            <button type=\"button\" className=\"btn btn-link\" onClick={logoutUser}>\r\n              Logout\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </PageWrapper>\r\n    );\r\n  }\r\n  \r\n  export default Profile;\r\n  ","C:\\projects\\news-app\\src\\config\\axios.config.js",[],"C:\\projects\\news-app\\src\\Services\\util\\news.util.js",[],{"ruleId":"141","replacedBy":"142"},{"ruleId":"143","replacedBy":"144"},{"ruleId":"145","replacedBy":"146"},{"ruleId":"147","replacedBy":"148"},{"ruleId":"149","replacedBy":"150"},{"ruleId":"151","severity":1,"message":"152","line":17,"column":3,"nodeType":"153","messageId":"154","endLine":17,"endColumn":14},{"ruleId":"151","severity":1,"message":"152","line":32,"column":13,"nodeType":"153","messageId":"154","endLine":32,"endColumn":24},{"ruleId":"151","severity":1,"message":"152","line":10,"column":85,"nodeType":"153","messageId":"154","endLine":10,"endColumn":96},{"ruleId":"141","replacedBy":"155"},{"ruleId":"143","replacedBy":"156"},{"ruleId":"145","replacedBy":"157"},{"ruleId":"147","replacedBy":"158"},{"ruleId":"149","replacedBy":"159"},{"ruleId":"151","severity":1,"message":"152","line":13,"column":3,"nodeType":"153","messageId":"154","endLine":13,"endColumn":14},{"ruleId":"151","severity":1,"message":"152","line":20,"column":3,"nodeType":"153","messageId":"154","endLine":20,"endColumn":14},{"ruleId":"151","severity":1,"message":"152","line":14,"column":3,"nodeType":"153","messageId":"154","endLine":14,"endColumn":14},{"ruleId":"151","severity":1,"message":"152","line":21,"column":3,"nodeType":"153","messageId":"154","endLine":21,"endColumn":14},{"ruleId":"151","severity":1,"message":"152","line":102,"column":9,"nodeType":"153","messageId":"154","endLine":102,"endColumn":20},{"ruleId":"151","severity":1,"message":"152","line":118,"column":9,"nodeType":"153","messageId":"154","endLine":118,"endColumn":20},{"ruleId":"151","severity":1,"message":"152","line":133,"column":9,"nodeType":"153","messageId":"154","endLine":133,"endColumn":20},{"ruleId":"151","severity":1,"message":"152","line":11,"column":5,"nodeType":"153","messageId":"154","endLine":11,"endColumn":16},{"ruleId":"151","severity":1,"message":"152","line":19,"column":5,"nodeType":"153","messageId":"154","endLine":19,"endColumn":16},"lines-around-directive",["160"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"no-console","Unexpected console statement.","MemberExpression","unexpected",["160"],[],[],[],[],"padding-line-between-statements"]